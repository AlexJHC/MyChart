import{j as e,u as d,r,a as p,c as u}from"./index-C6gw4wJJ.js";import{L as g,T as f,S as x}from"./theme-provider-BC03k8iu.js";import{u as j}from"./use-storage-CMLFG0L9.js";import{S as T}from"./storage-provider-Dyo0VfOY.js";import"./database-type-DzFzzfY6.js";const v=()=>{const t=d(),{addDiagram:s,deleteDiagram:o}=j(),n=r.useRef(!1),a=p().template,i=r.useCallback(async()=>{if(!a||n.current)return;n.current=!0;const c=u(a);await o(c.id);const m=new Date,l={...c,createdAt:m,updatedAt:m};await s({diagram:l}),t(`/diagrams/${l.id}`)},[s,o,t,a]);return r.useEffect(()=>{a?i():t("/templates")},[a,t,i]),e.jsx("section",{className:"flex w-screen flex-col bg-background",children:e.jsx(x,{size:"large",className:"mt-20 text-pink-600"})})},P=()=>e.jsx(g,{children:e.jsx(T,{children:e.jsx(f,{children:e.jsx(v,{})})})});export{v as CloneTemplateComponent,P as CloneTemplatePage};
